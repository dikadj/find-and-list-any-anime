(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{21:function(e,t,n){e.exports=n(37)},37:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),l=n(1),i=n(13),o=n.n(i),u=n(17),s=n(19),m=n(3),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SHOW_ALL",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_WATCHED_FILTER":return t.filter;default:return e}},h=function(){switch(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"all"){case"watched":return d(void 0,{type:"SET_WATCHED_FILTER",filter:"SHOW_WATCHED"});case"unwatched":return d(void 0,{type:"SET_WATCHED_FILTER",filter:"SHOW_UNWATCHED"});default:return d(void 0,{type:"SET_WATCHED_FILTER",filter:"SHOW_ALL"})}},E=function(e,t){switch(t.type){case"ADD_ANIME":return{id:t.id,title:t.title,imgSrc:t.imgSrc,imgAlt:t.imgAlt,year:t.year,rating:t.rating,watched:!1};case"TOGGLE_WATCHED_ANIME":return e.id!==t.id?e:Object(s.a)({},e,{watched:!e.watched});default:return e}},f=Object(m.b)({animeList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_ANIME":return[].concat(Object(u.a)(e),[E(void 0,t)]);case"TOGGLE_WATCHED_ANIME":return e.map(function(e){return E(e,t)});default:return e}},watchedFilter:d}),p=0,g=function(e){var t=e.onChangeTitle,n=e.onEnterKey,a=e.onAddClick;return r.a.createElement("div",{className:"form-group"},r.a.createElement("input",{type:"text",className:"form-control",id:"animeTitle",placeholder:"Add your favorite anime...",onChange:t,onKeyUp:n}),r.a.createElement("button",{className:"btn btn-warning form-control",id:"addClick",onClick:a},"Add"))},y=Object(l.c)(function(e){return{onChangeTitle:function(){},onEnterKey:function(e){13===e.keyCode&&document.getElementById("addClick").click()}}},function(e,t){return{onAddClick:function(t){var n;t.preventDefault(),document.getElementById("animeTitle").value.length>0&&fetch((n=document.getElementById("animeTitle").value,"https://api.jikan.moe/v3/search/anime?q="+function(e){return e.split("").map(function(e){return" "===e?"%20":e}).join("")}(n)+"&limit=1")).then(function(e){return e.json()}).then(function(t){e(function(e){return{type:"ADD_ANIME",id:p++,title:e.results[0].title,imgSrc:e.results[0].image_url,imgAlt:e.results[0].title,year:new Date(e.results[0].start_date).getFullYear(),rating:e.results[0].score}}(t))}),document.getElementById("animeTitle").value=""}}})(g),b=function(e){var t,n=e.filter,a=e.onFilterChange,c=e.isRadioChecked;return r.a.createElement("span",null," "," ",r.a.createElement("input",{type:"radio",name:"filter",id:n,value:n,onChange:a,checked:c})," "," ",r.a.createElement("label",{htmlFor:n},(t=n).charAt(0).toUpperCase()+t.slice(1))," "," ")},v=Object(l.c)(function(e,t){return{isRadioChecked:h(t.filter)===e.watchedFilter}},function(e,t){return{onFilterChange:function(n){var a;n.target.checked&&e((a=t.filter,{type:"SET_WATCHED_FILTER",filter:h(a)}))}}})(b),C=l.b.Consumer,T=function(e){var t=e.addedListCount;return r.a.createElement("p",{className:"d-flex justify-content-between"},r.a.createElement("small",null,r.a.createElement("strong",null,"total added: "),t," "," "," "),r.a.createElement("small",null,r.a.createElement("strong",null,"filter by: "),r.a.createElement(C,null,function(e){var t=e.store;return r.a.createElement("span",null,r.a.createElement(v,{filter:"all",context:t}),r.a.createElement(v,{filter:"watched",context:t}),r.a.createElement(v,{filter:"unwatched",context:t}))})))},A=Object(l.c)(function(e,t){return{addedListCount:t.context.getState().animeList.length}},null)(T),w=n(14),j=n(15),O=n(18),_=n(16),W=n(20),D=function(e){function t(){return Object(w.a)(this,t),Object(O.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(W.a)(t,e),Object(j.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=void 0===t?"n/a":t,a=e.watched,c=e.onChangeWatched,l=e.imgSrc,i=e.imgAlt,o=e.year,u=e.rating;return r.a.createElement("div",null,r.a.createElement("hr",null)," ",r.a.createElement("h3",null,n,a?r.a.createElement("small",null," (watched)"):""),r.a.createElement("p",null,a?r.a.createElement("small",{style:{color:"red"}},"haven't watched this? click to change status "):r.a.createElement("small",{style:{color:"green"}},"already watched this? click to change status "),r.a.createElement("button",{onClick:c,className:"btn btn-sm btn-light"},"click")),r.a.createElement("div",null,r.a.createElement("img",{src:l,alt:i})),r.a.createElement("br",null)," ",r.a.createElement("p",null,"released in ",o),r.a.createElement("p",null,"rating: ",u))}}]),t}(a.Component),k=function(e){var t=e.animeList,n=e.watchedFilter,a=e.onChangeWatched;return r.a.createElement("div",null,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];switch(arguments.length>1?arguments[1]:void 0){case"SHOW_WATCHED":return e.filter(function(e){return e.watched});case"SHOW_UNWATCHED":return e.filter(function(e){return!e.watched});default:return e}}(t,n).map(function(e){return r.a.createElement(D,{key:e.id,title:e.title,watched:e.watched,onChangeWatched:function(){a(e.id)},imgSrc:e.imgSrc,imgAlt:e.imgAlt,year:e.year,rating:e.rating})}))},H=Object(l.c)(function(e){return{animeList:e.animeList,watchedFilter:e.watchedFilter}},function(e){return{onChangeWatched:function(t){e(function(e){return{type:"TOGGLE_WATCHED_ANIME",id:e}}(t))}}})(k),I=l.b.Consumer,S=function(){return r.a.createElement("div",null,r.a.createElement(o.a,null,r.a.createElement("title",null,"Anime List"),r.a.createElement("link",{rel:"stylesheet",href:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css",integrity:"sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T",crossorigin:"anonymous"})),r.a.createElement("br",null)," ",r.a.createElement(I,null,function(e){var t=e.store;return r.a.createElement("div",{className:"container"},r.a.createElement(y,{context:t}),r.a.createElement(A,{context:t}),r.a.createElement(H,{context:t}))}),r.a.createElement("script",{src:"https://code.jquery.com/jquery-3.3.1.slim.min.js",integrity:"sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js",integrity:"sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1",crossOrigin:"anonymous"}),r.a.createElement("script",{src:"https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js",integrity:"sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM",crossOrigin:"anonymous"}))},L=Object(m.c)(f);Object(c.render)(r.a.createElement(l.a,{store:L},r.a.createElement(S,null)),document.getElementById("root"))}},[[21,1,2]]]);
//# sourceMappingURL=main.168d9c01.chunk.js.map